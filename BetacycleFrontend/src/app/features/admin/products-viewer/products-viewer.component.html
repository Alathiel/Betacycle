<div class="main-container">
    <div class="wrapper">
        <div class="header">
            <div (click)="redirect('admin-menu')" class="clickable" style="display: flex; flex-direction: row;">
                <fa-icon [icon]="backIcon" title="Home"></fa-icon>
                <label class="clickable" style="padding-left: 10px;">Home</label>
            </div>

            <div class="search-bar">
                <div class="input-wrapper">
                    <select class="search-select" [(ngModel)]="selectedValue">
                        <option value="all" hidden disabled selected>Filters</option>
                        <option value="ProductName">ProductName</option>
                        <option value="id">Id</option>
                    </select>
                    <input type="text" style="height: 100%;" [(ngModel)]="search" (keydown.enter)="filter('bb')">
                    <button class="search-button" (click)="filter('bb')">Search</button>
                </div>
            </div>
            <div style="display:flex;flex-direction: row; flex-wrap: wrap; width: 50%;">
                <div class="add-button-wrapper">
                    <div (click)="AddModelDialog('0ms', '0ms')" class="clickable add-button">
                        <fa-icon [icon]='addIcon' title="Add product" style="padding-right: 10px;"></fa-icon>
                        <label class="logs-disable-button" class="clickable">Add model</label>
                    </div>
                </div>

                <div class="add-button-wrapper">
                    <div (click)="AddCategoryDialog('0ms', '0ms')" class="clickable add-button">
                        <fa-icon [icon]='addIcon' title="Add category" style="padding-right: 10px;"></fa-icon>
                        <label class="logs-disable-button" class="clickable">Add category</label>
                    </div>
                </div>

                <div class="add-button-wrapper">
                    <div (click)="AddDialog('0ms', '0ms')" class="clickable add-button">
                        <fa-icon [icon]='addIcon' title="Add product" style="padding-right: 10px;"></fa-icon>
                        <label class="logs-disable-button" class="clickable">Add product</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="viewer">
            <ng-container *ngIf="products != undefined">
                <details *ngFor="let item of products" class="card-product">

                    <summary><label style="font-weight: bold;">[{{item.productId}} - {{item.productName}}]</label>
                    </summary>

                    <div style="display: flex; flex-direction: column; border-top: 1px solid #3d3d3d80;">
                        <div *ngFor="let l of item | keyvalue">
                            <div *ngIf="!checkValue(l) && l.key != 'thumbnailPhoto' && l.key!='$id'">
                                <label style="padding-left: 10px; padding-right: 10px;">{{l.key}}: {{l.value}}</label>
                            </div>
                            <div *ngIf="l.key == 'thumbnailPhoto'">
                                <img [src]="convert(l.value)" alt="..." width="100" height="100">
                            </div>
                        </div>
                        <div style="display:flex; flex-direction: row;">
                            <div class="clickable icon-wrapper" (click)="editDialog('0ms', '0ms', item)">
                                <fa-icon class="clickable" [icon]="editIcon"></fa-icon>
                                <label class="clickable">Edit</label>
                            </div>
                            <div class="clickable icon-wrapper" (click)="deleteDialog('0ms', '0ms', item)">
                                <fa-icon class="clickable" [icon]="deleteIcon"></fa-icon>
                                <label class="clickable">Delete</label>
                            </div>
                        </div>
                    </div>
                </details>

            </ng-container>
        </div>

        <div class="footer">
            <div>
                <ng-container *ngIf="totalProducts==0"> <label>Showing products {{0}} - {{totalProducts}} of
                        {{totalProducts}}</label> </ng-container>
                <ng-container *ngIf="totalProducts<10 && totalProducts!=0"> <label>Showing products {{page}} -
                        {{totalProducts}} of {{totalProducts}}</label> </ng-container>
                <ng-container *ngIf="page == 1 && totalProducts>=10"> <label>Showing products {{page}} - {{page*10}} of
                        {{totalProducts}}</label> </ng-container>
                <ng-container *ngIf="page > 1 && totalProducts>=10"> <label>Showing products {{(page-1)*10}} -
                        {{((page-1)*10)+loadedProducts}} of {{totalProducts}}</label> </ng-container>
            </div>
            <div class="page-navigator-wrapper">
                <a (click)="prev()" style="font-size: 1.4em; cursor: pointer;">Prev</a>
                -
                <a (click)="next()" style="font-size: 1.4em; cursor: pointer;">Next</a>
            </div>
        </div>
    </div>

    <app-toast></app-toast>
</div>